# Changelog

## 1.0.0 (2025-06-04)


### Features

* 仅不允许获取面板图列表 ([6d1d560](https://github.com/KarinJS/plugin-mihoyo/commit/6d1d56062b3e411317c463d81ade2f070282f7ed))
* 增加套装名称键值 ([4ed469e](https://github.com/KarinJS/plugin-mihoyo/commit/4ed469eff87eedae5bc57e31fc5bde523dd8116b))
* 增加风堇伤害计算1 ([de556c4](https://github.com/KarinJS/plugin-mihoyo/commit/de556c45fb88af7435d5ae08d5d59e971010b1fc))
* 增加风堇伤害计算2 ([8f2b64f](https://github.com/KarinJS/plugin-mihoyo/commit/8f2b64f98b968e23ed3fab08c693c23dbce5e06c))
* 增加风堇光锥键值 ([bbb0d5d](https://github.com/KarinJS/plugin-mihoyo/commit/bbb0d5dce42f40730c15dd246023a50b95863ff0))
* 增加风堇小伊卡增伤buff, params标签限定生效范围, 移除50%以下的治疗量提高25%以缩小计算结果与游戏内实际情况的误差 ([0197b31](https://github.com/KarinJS/plugin-mihoyo/commit/0197b3193019408c597db392e009c80694424962))
* 增加风堇战技治疗回复遐蝶新蕊值的保守计算 ([652c018](https://github.com/KarinJS/plugin-mihoyo/commit/652c01839e64f3140406469b17b7214a82c53c6c))
* 添加遐蝶伤害计算（部分）；添加部分武器（记忆）数据 ([e4206b4](https://github.com/KarinJS/plugin-mihoyo/commit/e4206b4436ce378041b6ca8594f95ef182eff023))
* 添加风堇伤害计算逻辑(与完善治疗逻辑) ([3710156](https://github.com/KarinJS/plugin-mihoyo/commit/371015690d04d0e54b106d98855b4caa37ad30bf))
* 补充智识光锥的缩写 ([1135ebe](https://github.com/KarinJS/plugin-mihoyo/commit/1135ebe4c5e4d2444571a5550840a0ccf7fee722))


### Bug Fixes

* [#378](https://github.com/KarinJS/plugin-mihoyo/issues/378) ([e0ebe82](https://github.com/KarinJS/plugin-mihoyo/commit/e0ebe828a416a832cf5ff8f925e352f6b34d9fe9))
* [#402](https://github.com/KarinJS/plugin-mihoyo/issues/402) ([1302296](https://github.com/KarinJS/plugin-mihoyo/commit/1302296eacd052f3c124dd5e8e3723f74074c101))
* [#551](https://github.com/KarinJS/plugin-mihoyo/issues/551) ([475fa37](https://github.com/KarinJS/plugin-mihoyo/commit/475fa37c02a402e202c40535e07333df7e24e8f4))
* [#667](https://github.com/KarinJS/plugin-mihoyo/issues/667) ([56d222f](https://github.com/KarinJS/plugin-mihoyo/commit/56d222f8df5d72e51c6dd3b252a94bb2e972c4cf))
* [#671](https://github.com/KarinJS/plugin-mihoyo/issues/671) ([7652071](https://github.com/KarinJS/plugin-mihoyo/commit/76520714d39f53acdb5ff6def7769e9e95838c8a))
* [#685](https://github.com/KarinJS/plugin-mihoyo/issues/685) [#729](https://github.com/KarinJS/plugin-mihoyo/issues/729) #I9CY30 #I9CSTM #I97YLH ([20bdcf2](https://github.com/KarinJS/plugin-mihoyo/commit/20bdcf25734e05ffc3501f5ea618e79d0e5a1b17))
* [#746](https://github.com/KarinJS/plugin-mihoyo/issues/746) ([de0c46b](https://github.com/KarinJS/plugin-mihoyo/commit/de0c46bc893ef8388fd3e0603b14c4b9076f2d41))
* [#749](https://github.com/KarinJS/plugin-mihoyo/issues/749) ([95d21cb](https://github.com/KarinJS/plugin-mihoyo/commit/95d21cb43bd4e5ca2163dc5181bcf7434d9e7fd3))
* *刷新排名 误重置原神排名问题，星铁排名伤害与面板不一致问题。新增*重置排名，*群最强xx ([eecaefa](https://github.com/KarinJS/plugin-mihoyo/commit/eecaefabe16cd5decb31a57e8c0518b94d33d309))
* #/*重置XX排名报错 ([#795](https://github.com/KarinJS/plugin-mihoyo/issues/795)) ([0126593](https://github.com/KarinJS/plugin-mihoyo/commit/0126593d5402bfe29b83f05cf713df1de1f2c65b))
* 2.3光锥仪器 ([86f9eae](https://github.com/KarinJS/plugin-mihoyo/commit/86f9eae36bef1454b47b97bcba4d2f0b7ab75830))
* 745 ([3c669cd](https://github.com/KarinJS/plugin-mihoyo/commit/3c669cd78058b91818284882b22e66d24821c2eb))
* 753 , 旅行者评分规则错误 ([07ca630](https://github.com/KarinJS/plugin-mihoyo/commit/07ca630736586e0af61ec35e7973b09cdfd57896))
* 757 ([8e38499](https://github.com/KarinJS/plugin-mihoyo/commit/8e384994460dbf5762940a968ad3afbddd720dcf))
* 781 ([3266bab](https://github.com/KarinJS/plugin-mihoyo/commit/3266babc307d190a03dd90aba11fed7c7d61a598))
* fix ([c35dafb](https://github.com/KarinJS/plugin-mihoyo/commit/c35dafbe790d7ec2f96d34db28826ba8356d6b6b))
* gacha face ([6cbf429](https://github.com/KarinJS/plugin-mihoyo/commit/6cbf429d9b9204a90186bafbf4844643df92c433))
* gs sr角色重名问题 ([e4faf9d](https://github.com/KarinJS/plugin-mihoyo/commit/e4faf9d5f1b9b41f1c11b86206862ab71825800d))
* has_detail_data ([#790](https://github.com/KarinJS/plugin-mihoyo/issues/790)) ([748b25f](https://github.com/KarinJS/plugin-mihoyo/commit/748b25f4feecd7e20caa23d70587e5cd6f8293f1))
* mainId错误 ([bf9e85d](https://github.com/KarinJS/plugin-mihoyo/commit/bf9e85d4920c5ae7f2f185bff3c581483cf340be))
* Match character id with different regex rules ([13665f4](https://github.com/KarinJS/plugin-mihoyo/commit/13665f4d2d7f0570c210023eca3582159ba4dff6))
* 不同元素主角meta缓存 ([6b19de1](https://github.com/KarinJS/plugin-mihoyo/commit/6b19de1aa1c420cfd1ecee3bf44a8fed925b3169))
* 主角相关问题 ([#855](https://github.com/KarinJS/plugin-mihoyo/issues/855)) ([5dfe0df](https://github.com/KarinJS/plugin-mihoyo/commit/5dfe0dfa29f4306b1310f9cf4e4873e9026dbcd1))
* 云璃伤害计算文件位置 ([0641f3f](https://github.com/KarinJS/plugin-mihoyo/commit/0641f3f863564879661fcca8c680aea950f52150))
* 仆人伤害计算 ([def6ab8](https://github.com/KarinJS/plugin-mihoyo/commit/def6ab8c15b45a48a4002c879b686134f052a177))
* 伤害计算Bug ([66b26d5](https://github.com/KarinJS/plugin-mihoyo/commit/66b26d58b2b3872e752f2b796f6e57317c1b82e2))
* 修复了可能出现的速度计算问题 ([18e3acd](https://github.com/KarinJS/plugin-mihoyo/commit/18e3acd5631b79af2f3339ac32614020970c4765))
* 修复查看角色面板时会在根目录生成额外文件的问题 fix [#968](https://github.com/KarinJS/plugin-mihoyo/issues/968) ([b6e3057](https://github.com/KarinJS/plugin-mihoyo/commit/b6e305786093ed9f103c97d75916a5bd64adb31f))
* 修复米游社更新面板无法获取天赋的问题 ([#857](https://github.com/KarinJS/plugin-mihoyo/issues/857)) ([17447c0](https://github.com/KarinJS/plugin-mihoyo/commit/17447c0e1d0354415d9ead1ba3f240ee5f543a03))
* 修复莱欧斯利天赋后半段的字体变为斜体的bug ([8f4a5ed](https://github.com/KarinJS/plugin-mihoyo/commit/8f4a5ed4044d0bd08a9515be0bcb5982d6b812c7))
* 修改title里的文本细节 ([7e68f59](https://github.com/KarinJS/plugin-mihoyo/commit/7e68f592844f21f87d5f401c534e6148ca174b8d))
* 修改排名计算的默认项 ([c4231f9](https://github.com/KarinJS/plugin-mihoyo/commit/c4231f9631fced07312f5d12a8156de93d9ad9b4))
* 修正遐蝶在伤害计算时的命座错误 ([6ea517c](https://github.com/KarinJS/plugin-mihoyo/commit/6ea517ca1bbeb922e67fa419a4a234d58a618a21))
* 修正阿格莱雅、遐蝶在伤害计算时的命座错误 ([bd37ee5](https://github.com/KarinJS/plugin-mihoyo/commit/bd37ee566876fe4696ba8d2d6dd2e26dea603876))
* 卡池时间 ([1443148](https://github.com/KarinJS/plugin-mihoyo/commit/14431489bda16aaeaf8c6249c3d5de0d56edc4d5))
* 原神主角天赋仅可查看风元素 ([6b19de1](https://github.com/KarinJS/plugin-mihoyo/commit/6b19de1aa1c420cfd1ecee3bf44a8fed925b3169))
* 原神卡池 ([469a798](https://github.com/KarinJS/plugin-mihoyo/commit/469a79820482a1385fc78a6ad597ce04f3081d72))
* 原神日历up时间 ([86fc3b2](https://github.com/KarinJS/plugin-mihoyo/commit/86fc3b20adb52efdf03fa81c25d0dd830a5a46b5))
* 原神部分角色数据错误及5.3集录四星武器 ([784f1d1](https://github.com/KarinJS/plugin-mihoyo/commit/784f1d1e6ebce6b1f03737e68ba32a794e8d4dc7))
* 可能导致enka更新报错 ([#869](https://github.com/KarinJS/plugin-mihoyo/issues/869)) ([3d32847](https://github.com/KarinJS/plugin-mihoyo/commit/3d328476853d6c54464fbe98379e95044ae6e56e))
* 圣遗物遗器等级不可为0级导致最终面板误差(主词条值不同) ([749fbb7](https://github.com/KarinJS/plugin-mihoyo/commit/749fbb77283089c3f270bfa0f55bd3386cb88db0))
* 处理缺失参量 ([27f1925](https://github.com/KarinJS/plugin-mihoyo/commit/27f1925dfb4f7edabd10655bd2266ffbc2f81270))
* 子用户抽卡记录 ([53a03db](https://github.com/KarinJS/plugin-mihoyo/commit/53a03dbb601a92977d7dfe60bb25cb8ff20b0d2b))
* 少了个break ([dad89f0](https://github.com/KarinJS/plugin-mihoyo/commit/dad89f04b0d561ba58cd71da0d1a0399ea05c7f1))
* 幻想真境剧诗改版解析 ([#814](https://github.com/KarinJS/plugin-mihoyo/issues/814)) ([d7e2d5b](https://github.com/KarinJS/plugin-mihoyo/commit/d7e2d5b80fc7e527d3d51aac7f93f3712bfcbf2f))
* 微调风堇治疗累积量计算权重 ([cfc3e91](https://github.com/KarinJS/plugin-mihoyo/commit/cfc3e91ded107764582d8d6d614c0c4bd715f857))
* 提纳里改成计算钟离减抗 ([cb5434e](https://github.com/KarinJS/plugin-mihoyo/commit/cb5434e5079fc8dd79ae28623f8452fb6da2a0fa))
* 旅行者面板元素错误 ([640d418](https://github.com/KarinJS/plugin-mihoyo/commit/640d4183dff1881fe702c0fa23c6378ea4e23a67))
* 日历 ([e6c4e07](https://github.com/KarinJS/plugin-mihoyo/commit/e6c4e07538ea0788b17786facbc8f5c5a0e77dec))
* 星铁偶现伤害为NaN ([c1bc9fe](https://github.com/KarinJS/plugin-mihoyo/commit/c1bc9fec44455fab1cd553a1d53640b45be678e4))
* 替换面板时武器数据错误 ([909ccf1](https://github.com/KarinJS/plugin-mihoyo/commit/909ccf1ede27e57de15e69b81b71c1f9908eb36f))
* 治疗加成主词条遗器评分错误 ([db2f4fb](https://github.com/KarinJS/plugin-mihoyo/commit/db2f4fbdbf578266576a199de30c6e53d9047984))
* 溢彩心念白值 ([c27f7fb](https://github.com/KarinJS/plugin-mihoyo/commit/c27f7fb3dc45373ca304f3851aa65bfa1fd1a4d5))
* 溢彩心念白值 ([e5faa4b](https://github.com/KarinJS/plugin-mihoyo/commit/e5faa4b51b4283be4ee96f8953128df0fa42a630))
* 溢彩心念白值 from qsyhh ([c27f7fb](https://github.com/KarinJS/plugin-mihoyo/commit/c27f7fb3dc45373ca304f3851aa65bfa1fd1a4d5))
* 满行迹乱破面板报错 ([59c9c5f](https://github.com/KarinJS/plugin-mihoyo/commit/59c9c5f5e338cf30758b9afd6f188d908f8a8d6a))
* 知更鸟伤害计算 ([95d4efa](https://github.com/KarinJS/plugin-mihoyo/commit/95d4efa77b833771ad0852f449903f31b8f7f763))
* 艾尔海森talentData.e数据错误及艾梅莉埃q后段文本斜体 ([#776](https://github.com/KarinJS/plugin-mihoyo/issues/776)) ([348c472](https://github.com/KarinJS/plugin-mihoyo/commit/348c472ed3df2170e0e419b2da91b6bf54317d80))
* 荡除蠹灾的铁骑在特定的情况下不会触发效果 ([02ead93](https://github.com/KarinJS/plugin-mihoyo/commit/02ead93775e59773a28ac029337180334d2b3f3b))
* 角色伤害table高度错误 ([44cee5f](https://github.com/KarinJS/plugin-mihoyo/commit/44cee5f9e9f48a25e54705487e79bdf2b5d3b071))
* 角色伤害table高度错误 by NotIvny ([44cee5f](https://github.com/KarinJS/plugin-mihoyo/commit/44cee5f9e9f48a25e54705487e79bdf2b5d3b071))
* 计算 自定义wife ([2202090](https://github.com/KarinJS/plugin-mihoyo/commit/22020900fd90f4399f7b27393a617e5444a505d0))
* 记忆主面板无法查询 ([4de9823](https://github.com/KarinJS/plugin-mihoyo/commit/4de9823e43e0f6226449340b65922e9101b02728))
* 遐蝶评分 ([ee8f1a1](https://github.com/KarinJS/plugin-mihoyo/commit/ee8f1a15a9911fe13a5bf002343bce0e8d7927b0))
* 部分角色talentId错误及米游社更新面板天赋等级 ([4b9a80a](https://github.com/KarinJS/plugin-mihoyo/commit/4b9a80a6d6a23d9f2158480a5b9d1daa23434213))
* 部分角色饰金之梦计算层数错误 ([8a1d5ef](https://github.com/KarinJS/plugin-mihoyo/commit/8a1d5eff03b68a03b8b1fa5cca48a055b3219da2))
* 面板服务MiniGG-Api与Hutao-Enka请求返回404 ([35c7d8e](https://github.com/KarinJS/plugin-mihoyo/commit/35c7d8ebf8c419e4becca73d3a3ca12767470dcd))


### Performance Improvements

* 引用原图逻辑判断 ([92875b5](https://github.com/KarinJS/plugin-mihoyo/commit/92875b5f31b95d98b3379bdd29ae328f9571eb56))
* 支持主角元素切换 ([6b19de1](https://github.com/KarinJS/plugin-mihoyo/commit/6b19de1aa1c420cfd1ecee3bf44a8fed925b3169))

## 2.5.16

* 更新原神5.6、星铁3.3相关数据与资源

## 2.5.1 ~ 2.5.15

* 面板功能升级
  * 角色面板展示圣遗物副词缀统计
  * 星铁面板展示圣遗物评分与评级
* 功能重构与目录调整
  * **注意：** 由于底层架构与目录调整，如有其他miao-plugin相关功能（例如面板图或伤害计算等）可能会有不兼容情况，短期内请谨慎升级
  * 重构Models的结构，重构Meta的数据处理逻辑
  * 重构面板数据、圣遗物数据、角色属性的处理与保存逻辑
  * 原神的面板数据迁移至 **/data/PlayerData/gs**，原神资源迁移至**resources/meta-gs**
* 新增`#天赋统计`、`#周三天赋`命令，查看角色天赋及技能书
* 新增`#五星练度统计`、`#四星天赋`命令，指定查看五星或四星角色数据
* 新增`#刷新天赋`命令，用于在有CK情况下强制刷新本地天赋缓存数据
* 初步迁移并重写`#今日素材`
* `#角色`增加枫丹探索度统计信息
* 增加原神4.3~5.5、星铁1.5~3.2相关的数据与资源

## 2.5.0

* 初步支持星铁面板数据获取与展示
  * 可使用`#星铁更新面板`来获取面板信息，通过`#希儿面板`来进行查看
  * 星铁面板展示圣遗物评分，评分功能尚未完全完成
  * 星铁面板天赋展示更新，支持展示行迹信息
  * 初步增加星铁的排名功能 **@Simplxss**
  * 增加`#星铁日历`功能 **@Aluxes**
  * 星铁面板支持面板变换功能
* 请配合使用Miao-Yunzai 3.1.0可达到最佳效果
  * Miao-Yunzai可使用`*`来代填`#星铁`前缀，能区分游戏使用不同UID
  * 其他Yunzai版本出现原神与星铁UID混淆情况为正常情况，请手动切换UID或命令后附加UID查询
* 伤害计算更新
  * 增加林尼、卡夫卡、银狼的伤害计算**@Aluxes**
  * 增加原神4.0相关的武器计算 **@SmallK111407**
  * 增加菲米尼、符玄、玲可、三月七、娜塔莎、罗刹、黑塔的伤害计算 **@Aluxes**
* 面板功能升级
  * 面板变换支持更换圣遗物套装，例如`#甘雨换乐团`、`#镜流换快枪手封印站`
  * 增加`#重载面板`功能，用于手工修改面板数据后主动读取
  * 微调面板页面的部分样式
* 角色数据及资源更新
  * 增加原神4.0~4.2的角色信息，可通过`#水神天赋`、`#水神图鉴`查看
  * 更新星铁1.2~1.3的角色数据与资源
* 增加`#喵喵api`命令，用于查看喵ApiToken的有效期
* 一些已知问题修复

## 2.4.0

* 增加`#角色记录``#抽卡统计`功能，可在`#喵喵设置`中开启
  * `#角色记录`、`#武器记录`、`#常驻记录` 可查看对应池子的抽卡记录
  * `#角色统计`、`#武器统计` 可按卡池汇总统计抽卡记录
  * `#全部统计` 可将所有抽卡信息汇总展示
  * 其余`#抽卡帮助`等相关功能均为Yunzai原生功能
* 面板服务增加国内专属面板服务 MiniGG-API
  * 由小灰灰大佬**@MiniGrayGay**与Enka官方合作部署
  * 国内节点，免费开放，请求速度会比Enka更快
* MiaoApi面板服务更新
  * 使用新版接口获取面板，大幅提高响应速度
  * 使用statsIds存储圣遗物数据，能够更精确的计算角色属性
* `#喵喵设置`中可区分国服、B服、外服分别设置面板服务器，具体参见喵喵设置
* `#面板`、`#角色`等页面使用Q版头像(@QuAn_、Misaaa)，可在#喵喵设置 中关闭
* 增加白术、卡维的角色信息，可通过`#白术天赋`、`#白术图鉴`等查看
* 部分已知问题调整或优化
  * 圣遗物、天赋更新策略及更新逻辑优化
  * 面板更新的提醒文案逻辑优化
* `#雷神面板` 属性部分样式调整，增加圣遗物评分权重展示
* 圣遗物评级的分数上限微调
* 增加3.6新圣遗物数据及资源
* 增加绮良良的角色信息，可通过`#绮良良天赋`、`#绮良良图鉴`等查看
* 面板服务增加由**Snap Hutao**提供的Enka转发代理，可通过`#喵喵设置面板服务4`进行选择
* 面板详情的圣遗物词条增加词条数展示
* 角色面板使用平均词条值作为词条数计算基础
* 部分角色资源文件结构调整

## 2.3.0

* 重写底层面板、角色数据获取与保存逻辑
  * 底层完全兼容面板及Mys数据，对于miao-plugin的大部分场景可做到数据通用
  * 角色数据及天赋增加缓存逻辑，有缓存数据情况下可在ck失效/验证码等情况下正常使用大部分功能
  * 全量使用通过圣遗物属性计算得到的面板数据
  * 面板底层数据结构及存储逻辑优化，兼容老版本数据
  * Enka服务下使用statsIds存储圣遗物数据，能够更精确的计算角色属性
* 增加`#角色`功能，查询并展示Mys角色信息
  * Yunzai需要跟随游戏版本升级的功能会逐步在miao-plugin中提供，以保障基础功能相对长期可用
  * 大部分功能目前默认关闭，可在`#喵喵设置`中设置并开启
* 为`#喵喵设置`增加更多配置项
  * 允许禁用非实装角色资料，关闭可禁用非实装角色资料及面板替换
  * 允许禁用面板替换功能
  * 允许禁用获取角色或面板原图功能
  * 可选择面板服务，可选喵喵Api优先（需具备Token）或Enka优先
  * 可设置群排名人数、圣遗物列表展示数 **@SmallK111407**
* 角色信息及伤害计算更新
  * 更新迪希雅、米卡的最新天赋与命座数据
  * 增加瑶瑶伤害计算
* 其他功能及界面优化，部分已知问题调整
  * `#上传深渊` 界面与样式调整
  * `#刷新排名`、`#禁用排名`、`#启用排名`可由群管理员进行管理
  * 增加`#删除面板`命令，目前限绑定CK用户使用删除自己UID数据，Bot主人可删除任意UID数据

## 2.2.0

* 增加面板替换功能，可通过命令更换面板的圣遗物、武器、天赋命座等，用于伤害计算
  * `#雷神面板换稻光换90级满命` / `#刻晴面板换雷神圣遗物` 等命令
  * 更多命令参见 `#面板帮助`，请根据需求吟唱。后续会提供更细致的咒语详解
* 增加角色面板立绘图相关命令 **@cvs**
  * 支持`#上传刻晴面板图`上传
  * 新增`#刻晴面板图列表`
  * 可通过指令查询当前可看的面板立绘
  * 立绘支持`#原图`指令
* 角色立绘支持随机，用于面板场景
  * 图像支持webp及png格式
  * 普通立绘：**resources/profile/normal-character/**
  * 彩蛋立绘（满命/ACE/三皇冠)：**resources/profile/super-character/**
  * 单张立绘请放置在普通&彩蛋目录下，以**角色全名**为**文件名**，例如**刻晴.webp**
  * 如需多张随机，请在普通&彩蛋目录下，以**角色全名**为**目录**名，任意文件名为文件名，例如 **刻晴/1.png**
  * 较低版本的Yunzai可能无法正常使用miao-plugin
* 部分底层结构升级
  * 去除插件内自带的V2/V3兼容逻辑，使用runtime进行V2/V3兼容，如使用遇到问题请升级至最新版Yunzai
  * 底层增加面板计算逻辑， 圣遗物数据底层存储格式与处理逻辑初步升级
* 圣遗物主词条评分规则微调，可能会影响部分角色评分
  * 元素杯属性不符会触发主词缀评分惩罚
  * 充能主词条不再触发主词缀评分惩罚
* 增加`#启用排名``#禁用排名`命令，可在全局启用排名情况下，在特定群内禁用排名功能
* 更新迪希雅、米卡、瑶瑶、艾尔海森的信息，可通过`#瑶瑶天赋`、`#瑶瑶图鉴`等查看
* 增加散兵、艾尔海森 **@panganqi**、珐露珊的伤害计算
* 增加归终、米卡的角色图像
* 其他一些已知问题修正与样式优化

## 2.1.0

* 增加群内排名功能
  * 默认关闭，如需启用可通过 `#喵喵设置排名开启`进行打开
  * 统计为bot本地统计，只统计在群内主动查看过的面板数据
  * 可通过 `#面板`、`#心海面板`、`#更新面板`等命令来触发排名数据更新
  * 增加命令 `#刷新排名`，获取群成员面板数据，刷新当前排名 **@munnks**
  * `#雷神排名` 使用个人头像作为排行头像展示（首次使用可使用 `#刷新排名`以更新uid信息）
* 增加排名相关命令
  * 增加 `#最强雷神`、`#最高分甘雨`命令，查看当前统计中最高练度/最高圣遗物评分的面板数据
  * 增加 `#雷神排名`、`#甘雨圣遗物排名`命令，查看当前群中角色的排名数据
  * 增加 `#重置排名`、`#重置刻晴排名`命令，来重置当前群的排名统计
* 面板及伤害计算升级
  * `#雷神面板`圣遗物支持展示强化次数
  * `#面板`会展示角色名命座信息
  * 底层元素反应计算逻辑更新 **@冷落**
  * 增加纳西妲的伤害计算
* `#喵喵设置` 部分配置项及功能改进
  * 删除一些无效或暂不支持的配置项
  * 配置存储位置变更为**config/cfg.js**。原设置会自动迁移
  * 喵喵设置中增加排名限制门槛，支持限制 有16个角色数据/包含御三家角色 才能参与排名，防止被非群成员uid刷榜
* `#日历` 页面样式微调，功能升级
  * 日历中会展示角色生日
  * 日历会展示本日可刷天赋角色列表
* 增加3.3角色信息及图片，可通过 `#散兵天赋`、`#珐露珊命座`查看
* 一些样式及功能点优化
  * 优化character的进入判定逻辑，防止一些额外的log触发
  * 角色相关命令在V3下会联合V3的角色别名一同查询
  * `#深渊组队`使用新版胡桃API进行组队信息获取
* 增加命令 `#最强排行`、`#最高分排行` 查看群排行
* 增加莱依拉的伤害计算及圣遗物评分权重

## 2.0.0

* 底层架构升级，以V3为主要版本，V2做兼容处理
* `#深渊配队`、`#戳一戳` 适配V3
* `#喵喵帮助`配置功能升级
  * 支持自定义帮助皮肤包，皮肤目录为**resources/help/theme**
  * 若有多套皮肤包，默认随机使用，可通过**config/help.js**指定
  * 支持配帮助文字颜色及容器颜色与透明度
  * 支持图片毛玻璃效果，默认开启，可通过配置关闭
  * `注意1：` 如之前更改过底图可能会在更新后失效，可将自定义底图放置在新建的皮肤包目录内
  * `注意2：` 为统一配置目录，帮助配置文件迁移至**config/help.js**，如之前自定义过配置文件，help-cfg.js仍能够识别，但建议移至新配置目录以使用后续更多功能
* `#面板练度统计` 功能调整，样式重写
  * 样式由深色调整为浅色方案
  * 在未绑定CK时，使用本地面板数据展示练度信息
* 重写 `#刻晴`、`#老婆`的角色卡片
  * 样式整体升级，展示信息重新排版
  * 未绑定CK时，会同时使用本地面板数据进行展示
* `#上传深渊`队伍人数少于4人时展示样式优化
* MysApi内部逻辑重写
  * 在未绑定CK时，会使用本地面板数据综合计算，以使信息展示更完备
  * 优化V3下获取Uid及CK的逻辑，防止一些情况下触发报错
* 武器、圣遗物 meta数据及图像资源逻辑更新
  * 重构武器及圣遗物的底层处理逻辑，重构页面引用图像资源的逻辑
  * 图像资源更新为webp格式
* 增加多莉的伤害计算
* 其他已知Bug修复

## 1.11.0

* 面板圣遗物评分初步增加流派判定能力
  * 实验性，尚未完全稳定，可能会导致一些角色圣遗物评分变化，如遇问题请反馈
  * 目前实验暴力芭芭拉、血牛钟离的判定
* `#刻晴面板`、`#芭芭拉圣遗物`支持展示角色时装
  * 如果角色装备了时装，面板的角色图会展示时装立绘
  * 需要重新 `#更新面板`以获取时装数据
* 增加赛诺、妮露、坎蒂丝的角色信息，可以通过 `#妮露天赋`、`#妮露命座`查看角色信息了
* 角色面板支持旅行者，暂未支持伤害计算及圣遗物评分
  * 需要重新更新旅行者的面板数据
* `#雷主天赋`、`#草主命座`功能升级
  * 页面样式微调，内部处理逻辑升级
  * 支持旅行者天赋及命座信息查看
* 增加 `#心海图鉴`功能，可查看突破材料及常用武器
  * 功能尚未完全稳定，信息还在继续补全中
  * 如无需使用，master可通过 `#喵喵设置图鉴关闭`关闭，防止覆盖图鉴插件等图鉴功能
* 框架底层角色相关逻辑重构，角色图像资源迁移为webp格式
  * 若遇到图像资源无法正常展示，可联系喵喵反馈

## 1.10.0

* 新增 `#面板练度统计`功能
  * 可展示当前角色天赋及圣遗物练度信息
  * 需要用户绑定Cookie，圣遗物评分需要本地获取并查看过对应角色面板
* `#上传深渊`使用图片渲染深渊结果，同时可被 `#喵喵深渊`触发
  * 可展示本期深渊的全部角色信息，包括组队、天赋及圣遗物
  * 数据会上传至胡桃Api进行伤害排名，并展示在页面内
  * 可在 `#喵喵设置`中启用 `#喵喵深渊`作为默认 `#深渊`，默认关闭
  * 启用后不会覆盖 `#上期深渊`以及 `#深渊12层`具体楼层的命令
* `#面板`、`#更新面板`命令使用图片渲染结果
* `#雷神面板`展示数据API及更新时间
* Enka面板服务支持配置代理 **@永恒的小黑屋**
  * 如需配置可在**miao-plugin/config/profile.js**文件中配置
* `#更新面板`支持配置更新API，适配Enka新校验逻辑
  * B服角色使用Enka服务进行面板信息获取
  * 感谢Enka官方 **@Algoinde**的官方授权及UA**校**验
  * 感谢 **@MiniGrayGay**提供的Enka服务中转，若面板更新失败可尝试在**miao-plugin/config/profile.js**文件中配置切换更新API
  * 更新面板增加单用户更新间隔控制，默认5分钟
* `#深渊出场率`、`#角色持有率` 增加样本数量展示，增加数据使用授权提示
* 部分角色的圣遗物评分增加充能的词条评分权重
* 重构部分components、models逻辑，重构部分伤害计算逻辑
* 伤害计算支持除旅行者外的全部角色
* 伤害计算暂未包含3.0新元素反应，后续统一补充

## 1.9.0

* 初步适配Yunzai V3
  * 部分功能可能无法正常使用，会逐步适配
  * 部分依赖MysApi查询的功能在V3下暂时只支持查自己
* 增加提纳里、柯莱、多莉的资料及角色图像
  * 可通过 `#柯莱天赋`、`#柯莱命座`查看资料
* 增加 `#深渊使用率`命令，数据源自DGP-Studio胡桃API
* 新增 `#上传深渊数据`命令
  * 上传自己角色的深渊挑战数据及角色列表，并展示在本期深渊中伤害与承伤排名
  * 上传数据用于 `#角色持有率 #深渊出场率`等统计，可使统计更加及时准确
  * 数据统计及服务来自DGP-Studio胡桃API
* 增加 `#添加刻晴图像`命令，感谢 **@叶**
  * 可通过命令上传添加指定角色图片，上传至 **resources/character-img/刻晴/upload**
  * 请将图像与命令一同发送，后续会支持at图像及命令后发送图像
* `#刻晴` 角色卡片功能升级
  * `#老婆设置刻晴，心海`不再检查是否具有角色或展示在米游社展柜
  * `#刻晴` 角色卡片优先使用面板数据进行展示，无面板数据时使用米游社数据
  * 在未能获取到角色数据时也会展示角色卡片
* 支持戳一戳返回喵喵版角色卡片，暂不支持V3 Yunzai
  * 需要使用喵喵分支Yunzai以支持此能力，如需切换可在Yunzai根目录输入下方命令后更新重启
  * `git remote set-url origin https://gitee.com/yoimiya-kokomi/Yunzai-Bot`
  * 可通过 `#喵喵设置` 关闭戳一戳
* 支持定义新角色及别名
  * 新增角色 派蒙、瑶瑶、白术、伐难、应达、散兵、女士、萍姥姥、仆人、少女、富人、博士、木偶、丑角、队长、妮露、纳西妲 的角色配置及图片
  * 自定义角色可使用 `#派蒙` `#派蒙图片`触发图片查看，`#女儿设置派蒙`进行设置。后续会支持更多场景
  * 如需扩展可在喵喵config/character.js中定义
* `#喵喵帮助`增加对自定义配置文件的支持
* 角色伤害计算增加 鹿野院平藏、烟绯
* `#喵喵日历`现在可通过 `#日历 #日历列表`触发

## 1.8.0

* `#角色面板`、`#圣遗物列表` 使用新的圣遗物评分逻辑计算评分
  * 新的圣遗物评分规针对不同角色进行了细化，对不同角色的评分进行了拉齐
  * 不同角色基于不同词条权重进行计算。感谢 **@糖炒栗子 @秋声 @49631073**等的权重梳理
* 增加 `#雷神圣遗物`命令
  * 展示指定角色圣遗物及评分计算详情
  * 展示新版圣遗物评分逻辑与计算规则
* 增加 `#原图`命令，可获取喵喵角色卡片原图，感谢 **@牧星长** 提供功能
  * 对由 `#老婆 #刻晴`发出的角色卡片图回复 `#原图`可获取对应图像
* `#角色面板`现在支持B服角色数据获取
  * 数据来自喵喵API，目前开放调用无需Token，仅限喵喵插件用户使用
  * 已知问题：角色天赋的皇冠及命座加成效果显示可能有问题，后期fix
* `#录入角色面板` 功能恢复
  * 可对已有面板数据的角色手工输入更改面板属性，用于伤害测算
  * 例如 `#录入雷神面板 暴击80，暴伤250`
  * 暂不支持设置武器、圣遗物、命座、天赋。后续会增加支持
* 部分页面样式调整及功能优化
  * `#角色持有率` 等增加提示说明
  * `#圣遗物列表` 展示个数提升至28，且根据新版圣遗物评分规则进行词条高亮
  * `#喵喵更新` 的自动重启功能适配node app方式启动的Yunzai-Bot，感谢 **@SirlyDreamer**
* 角色图像增加小清新开关，默认关闭
  * 对增量包内的角色图像进行分级，较为清凉的图像独立管理
  * 勇士们可使用 `#喵喵设置小清新开启` 启用
* 伤害计算增加扩散、感电的计算逻辑，感谢 **@49631073**的逻辑梳理
* `#角色面板` 伤害计算增加部分角色，目前支持
  * 长柄武器：雷神、胡桃、魈、钟离、香菱
  * 法器：神子、心海、可莉、凝光、芭芭拉、莫娜
  * 弓：甘雨、宵宫、公子，九条，迪奥娜、安柏、皇女、温迪、夜兰
  * 单手剑：绫人、绫华、刻晴、阿贝多、行秋、班尼特、七七、凯亚、琴、万叶ⁿᵉʷ、久岐忍ⁿᵉʷ
  * 双手剑：一斗、优菈、迪卢克、诺艾尔、重云

## 1.7.0

* `#更新面板` 功能升级
  * 该功能可直接使用，不再需要token
  * 在查询新用户时会自动使用，自动使用的CD 12小时
  * 支持国际服UID，目前暂不支持2及5开头的UID
  * 服务来自enka api，部分网络可能无法请求，请科学处理，后续会增加转发服务。
  * 由于服务逻辑与之前数据不一致，部分角色的属性及伤害计算可能会不准确，如有发现请反馈给喵喵
* `#面板`、`#更新面板`、`#角色面板`、`#角色伤害`、`#圣遗物列表`不再需要绑定cookie，支持查他人
  * 使用 `#面板`命令可查看已获取面板数据的角色列表
  * 默认查询自己UID，同时也可通过命令+uid方式指定查询对象
  * 由于整体逻辑变化，喵喵1.6.0之前更新的面板数据无法查看，需要重新更新数据
* 增加 `#喵喵面板设置`命令，可更精细的设置是否允许好友/临时对话/群使用面板功能
* 由 `#录入xx面板` 录入的数据暂时屏蔽
* `#角色面板`、`#喵喵日历` 部分细节样式调整
* `#角色面板` 伤害计算增加部分角色，目前支持
  * 长柄武器：雷神、胡桃、魈、钟离、香菱
  * 法器：神子、心海、可莉、凝光、芭芭拉、莫娜ⁿᵉʷ
  * 弓：甘雨、宵宫、公子，九条，迪奥娜、安柏、皇女ⁿᵉʷ、温迪ⁿᵉʷ、夜兰ⁿᵉʷ
  * 单手剑：绫人、绫华、刻晴、阿贝多、行秋、班尼特、七七、凯亚、琴ⁿᵉʷ
  * 双手剑：一斗、优菈、迪卢克、诺艾尔、重云

## 1.6.0

* `#喵喵设置` 支持设置 面板查询 的功能开关
* `#喵喵版本` 使用图片展示更新信息
* `#喵喵日历` 升级
  * 增加 `#喵喵日历列表`命令，以列表形式展示活动信息
  * 增加从活动详情信息中解析活动日期的逻辑，使一些活动日期更加准确
* 增加鹿野院平藏的角色信息，可通过 `#平藏天赋`、`#平藏命座`查看信息
* 其他升级调整
  * `#深渊出场率`、`#角色持有率` 等页面功能及样式微调
  * `#角色面板` 伤害计算增加双手剑计算逻辑，增加物伤计算逻辑
  * 页面版权信息展示Yunzai及喵喵版本号
* `#角色面板` 伤害计算增加部分角色，目前支持
  * 长柄武器：雷神、胡桃、魈、钟离、香菱
  * 法器：神子、心海、可莉ⁿᵉʷ、凝光ⁿᵉʷ、芭芭拉ⁿᵉʷ
  * 弓：甘雨、宵宫、公子，九条ⁿᵉʷ，迪奥娜ⁿᵉʷ、安柏ⁿᵉʷ
  * 单手剑：绫人、绫华、刻晴、阿贝多、行秋、班尼特、七七ⁿᵉʷ、凯亚ⁿᵉʷ
  * 双手剑：一斗ⁿᵉʷ、优菈ⁿᵉʷ、迪卢克ⁿᵉʷ、诺艾尔ⁿᵉʷ、重云ⁿᵉʷ

## 1.5.0

* 增加 `#喵喵日历` 功能
  * 【！请注意！】此功能需要安装moment库，请在Yunzai安装目录下运行 `npm install moment`后再进行升级
  * 展示当前进行中及即将开始的活动，包括深境螺旋
* `#角色面板` 伤害计算目前支持
  * 长柄武器：雷神、胡桃、魈、钟离、香菱ⁿᵉʷ
  * 法器：神子、心海
  * 弓：甘雨、宵宫、公子
  * 单手剑：绫人、绫华、刻晴、阿贝多ⁿᵉʷ、行秋ⁿᵉʷ、班尼特ⁿᵉʷ
* 底层升级：抽象了部分公共组件为tpl模板以提高复用度，css改为less处理

## 1.4.0

* 增加 `#深渊配队` 功能
  * 根据当前账号的角色练度及本期深渊出场数据，推荐较匹配的配队方案
  * 深渊出场数据来自DGP-Studio胡桃API
  * 配队方案仅供参考
* `#角色面板` 伤害计算新增部分角色
  * 目前支持：雷神、胡桃、魈、神子、甘雨、宵宫、公子、绫人、绫华、心海、钟离
* `#角色面板` 一些功能升级与调整
  * 支持对治疗量、护盾量的计算与展示
  * 修复冰融化、少女4等buff等buff遗漏或错误导致的伤害计算偏差
* `#老婆` 功能支持对jpeg格式的图片格式识别

## 1.3.0

* 增加 `#雷神伤害` 功能
  * 可计算圣遗物副词条置换带来的伤害变化，可用于圣遗物副词条侧重方向的参考
  * 可以查看指定角色伤害计算的Buff列表
* `#角色面板` 伤害计算新增部分角色
  * 目前支持：雷神、胡桃、魈、神子、甘雨、宵宫、公子、绫人、绫华
* `#角色面板` 功能升级
  * 优化无角色面板数据时的引导
  * 优化返回的图像格式及分辨率，平衡响应速度及显示效果
* 增加 `#圣遗物列表` 功能，对已经获取面板的所有角色圣遗物进行评分，并展示高评分的圣遗物列表
* 增加 `#角色面板列表` / `#角色面板帮助` 命令
* 增加 `#更新胡桃面板` 命令，获取单个角色面板数据，每天可更新5次
* 更改 `#更新全部面板` 命令，获取角色展柜全部8个角色，每天可更新3次

## 1.2.0

* `#角色面板` 增加伤害计算功能
  * 目前支持角色：雷神、胡桃、魈、神子、甘雨
  * 可通过 `#怪物等级85` 命令设定怪物等级，以获得更准确的计算结果
  * 计算伤害为满Buff情况，后续会出更详细的Buff及计算展示
* `#获取游戏角色详情`命令在服务侧增加基于UID的天频度限制
* 增加 `#喵喵更新` 功能
  * 感谢 @碎月 @清秋 的代码支持
  * 若更新成功会重启Yunzai，需要Yunzai以 npm run start 模式启动
  * 尚未经充分测试，请有一定容错能力的勇士尝试
  * 增加 `#喵喵版本`命令查询版本信息

## 1.1.0

* 增加 `#喵喵帮助`用于查看帮助命令
* 增加 `#喵喵设置`用于设置喵喵相关功能
